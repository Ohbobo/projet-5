const filterButtons=document.querySelectorAll(".filter-button"),galleryItems=document.querySelectorAll(".gallery-item"),galleryImages=Array.from(galleryItems),modal=document.getElementById("modal"),modalImage=document.getElementById("modal-image");let currentImageIndex=0,currentCategory="all",modalImages=[],currentCategoryIndex=0;const categoryImagesMap={};function filterImages(e){modalImages=categoryImagesMap[e]||[],galleryImages.forEach(t=>{let a=t.getAttribute("data-gallery-tag");"all"===e||a===e?t.style.display="block":t.style.display="none"})}function openModal(e){modal.classList.add("active"),currentCategoryIndex=modalImages.indexOf(galleryImages[e]),modalImage.src=modalImages[currentCategoryIndex]?.src||"";let t=galleryImages[e]?.getAttribute("alt")||"";modalImage.alt=t}function closeModal(){modal.classList.remove("active"),modalImage.src="#",modalImage.alt="image photo modal"}function changeImage(e){(currentCategoryIndex+=e)<0?currentCategoryIndex=modalImages.length-1:currentCategoryIndex>=modalImages.length&&(currentCategoryIndex=0),modalImage.src=modalImages[currentCategoryIndex]?.src||"";let t=modalImages[currentCategoryIndex]?.getAttribute("alt")||"";modalImage.alt=t}filterButtons.forEach(e=>{e.addEventListener("click",()=>{filterButtons.forEach(e=>e.classList.remove("active")),e.classList.add("active")})}),filterButtons.forEach(e=>{let t=e.getAttribute("data-tag");categoryImagesMap[t]=galleryImages.filter(e=>{let a=e.getAttribute("data-gallery-tag");return"all"===t||a===t})}),filterButtons.forEach(e=>{e.addEventListener("click",()=>{let t=e.getAttribute("data-tag");t!==currentCategory&&(currentCategory=t,filterImages(t),currentImageIndex=0,currentCategoryIndex=0,modalImage.src=modalImages[currentCategoryIndex]?.src||"")})}),galleryImages.forEach((e,t)=>{e.addEventListener("click",()=>{openModal(t)})}),modal.addEventListener("click",e=>{e.target===modal&&closeModal()}),document.querySelector(".close").addEventListener("click",closeModal),document.querySelector(".prev").addEventListener("click",()=>{changeImage(-1)}),document.querySelector(".next").addEventListener("click",()=>{changeImage(1)}),filterImages("all");